<section class="space-y-6 animate-pop">
  <div class="space-y-4 rounded-3xl border border-slate-200 bg-white/90 p-6 shadow-lg shadow-slate-900/5 backdrop-blur">
    <div class="flex flex-col gap-4 lg:flex-row">
      <app-todo-filters
        class="lg:w-2/5"
        [filters]="filters()"
        (filtersChange)="handleFiltersChange($event)"
      />
      <app-todo-stats
        class="lg:flex-1"
        [total]="stats().total"
        [completed]="stats().completed"
        [remaining]="stats().remaining"
      />
    </div>

    <app-todo-form (save)="handleCreate($event)" />
  </div>

  @if (error()) {
    <app-error-banner [message]="error()" (dismiss)="dismissError()" />
  }

  <div class="relative">
    <app-loading-overlay [isLoading]="loading()" />
    <app-todo-list
      [todos]="filteredTodos()"
      (toggleTodo)="handleToggle($event)"
      (editTodo)="handleEdit($event)"
      (deleteTodo)="handleDelete($event)"
    />
  </div>
</section>
