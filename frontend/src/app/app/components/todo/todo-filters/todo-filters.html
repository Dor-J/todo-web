<section class="p-3 space-y-3 rounded-2xl border shadow-sm backdrop-blur border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-800/70 sm:space-y-4 sm:p-4 lg:min-w-94">
  <header>
    <p class="text-xs font-semibold uppercase tracking-[0.4em] text-slate-500 dark:text-slate-400 text-center">Filters</p>
  </header>

  <label class="flex flex-col gap-2 text-sm font-medium text-slate-600 dark:text-slate-300">
    Search
    <div class="relative">
      <input
        type="search"
        [value]="filters.query"
        (input)="updateQuery($any($event.target).value)"
        placeholder="Find a todo"
        class="px-4 py-2.5 w-full bg-white rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:border-slate-400 dark:focus:border-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-200 dark:focus:ring-slate-700"
        aria-label="Search todos"
      />
      <span class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-xs uppercase tracking-[0.3em] text-slate-400 dark:text-slate-500"
        >âŒ˜K</span
      >
    </div>
  </label>

  <div class="flex flex-wrap gap-1.5 sm:gap-2">
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="filters.status === 'all'"
      [class.dark:bg-slate-700]="filters.status === 'all'"
      [class.text-white]="filters.status === 'all'"
      [class.border]="filters.status !== 'all'"
      [class.border-slate-200]="filters.status !== 'all'"
      [class.dark:border-slate-700]="filters.status !== 'all'"
      [class.text-slate-500]="filters.status !== 'all'"
      [class.dark:text-slate-400]="filters.status !== 'all'"
      (click)="setStatus('all')"
      aria-label="Show all todos"
      [attr.aria-pressed]="filters.status === 'all'"
    >
      All
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="filters.status === 'active'"
      [class.dark:bg-slate-700]="filters.status === 'active'"
      [class.text-white]="filters.status === 'active'"
      [class.border]="filters.status !== 'active'"
      [class.border-slate-200]="filters.status !== 'active'"
      [class.dark:border-slate-700]="filters.status !== 'active'"
      [class.text-slate-500]="filters.status !== 'active'"
      [class.dark:text-slate-400]="filters.status !== 'active'"
      (click)="setStatus('active')"
      aria-label="Show active todos"
      [attr.aria-pressed]="filters.status === 'active'"
    >
      Active
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="filters.status === 'completed'"
      [class.dark:bg-slate-700]="filters.status === 'completed'"
      [class.text-white]="filters.status === 'completed'"
      [class.border]="filters.status !== 'completed'"
      [class.border-slate-200]="filters.status !== 'completed'"
      [class.dark:border-slate-700]="filters.status !== 'completed'"
      [class.text-slate-500]="filters.status !== 'completed'"
      [class.dark:text-slate-400]="filters.status !== 'completed'"
      (click)="setStatus('completed')"
      aria-label="Show completed todos"
      [attr.aria-pressed]="filters.status === 'completed'"
    >
      Completed
    </button>
  </div>

  <div class="flex flex-wrap gap-1.5 sm:gap-2">
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.isStarred ?? 'all') === 'all'"
      [class.dark:bg-slate-700]="(filters.isStarred ?? 'all') === 'all'"
      [class.text-white]="(filters.isStarred ?? 'all') === 'all'"
      [class.border]="(filters.isStarred ?? 'all') !== 'all'"
      [class.border-slate-200]="(filters.isStarred ?? 'all') !== 'all'"
      [class.dark:border-slate-700]="(filters.isStarred ?? 'all') !== 'all'"
      [class.text-slate-500]="(filters.isStarred ?? 'all') !== 'all'"
      [class.dark:text-slate-400]="(filters.isStarred ?? 'all') !== 'all'"
      (click)="setStarred('all')"
      aria-label="Show all todos regardless of star status"
      [attr.aria-pressed]="(filters.isStarred ?? 'all') === 'all'"
    >
      All
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.isStarred ?? 'all') === 'starred'"
      [class.dark:bg-slate-700]="(filters.isStarred ?? 'all') === 'starred'"
      [class.text-white]="(filters.isStarred ?? 'all') === 'starred'"
      [class.border]="(filters.isStarred ?? 'all') !== 'starred'"
      [class.border-slate-200]="(filters.isStarred ?? 'all') !== 'starred'"
      [class.dark:border-slate-700]="(filters.isStarred ?? 'all') !== 'starred'"
      [class.text-slate-500]="(filters.isStarred ?? 'all') !== 'starred'"
      [class.dark:text-slate-400]="(filters.isStarred ?? 'all') !== 'starred'"
      (click)="setStarred('starred')"
      aria-label="Show only starred todos"
      [attr.aria-pressed]="(filters.isStarred ?? 'all') === 'starred'"
    >
      Starred
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.isStarred ?? 'all') === 'not-starred'"
      [class.dark:bg-slate-700]="(filters.isStarred ?? 'all') === 'not-starred'"
      [class.text-white]="(filters.isStarred ?? 'all') === 'not-starred'"
      [class.border]="(filters.isStarred ?? 'all') !== 'not-starred'"
      [class.border-slate-200]="(filters.isStarred ?? 'all') !== 'not-starred'"
      [class.dark:border-slate-700]="(filters.isStarred ?? 'all') !== 'not-starred'"
      [class.text-slate-500]="(filters.isStarred ?? 'all') !== 'not-starred'"
      [class.dark:text-slate-400]="(filters.isStarred ?? 'all') !== 'not-starred'"
      (click)="setStarred('not-starred')"
      aria-label="Show only unstarred todos"
      [attr.aria-pressed]="(filters.isStarred ?? 'all') === 'not-starred'"
    >
      No Stars
    </button>
  </div>

  <div class="flex flex-wrap gap-1.5 sm:gap-2">
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.priority ?? 'all') === 'all'"
      [class.dark:bg-slate-700]="(filters.priority ?? 'all') === 'all'"
      [class.text-white]="(filters.priority ?? 'all') === 'all'"
      [class.border]="(filters.priority ?? 'all') !== 'all'"
      [class.border-slate-200]="(filters.priority ?? 'all') !== 'all'"
      [class.dark:border-slate-700]="(filters.priority ?? 'all') !== 'all'"
      [class.text-slate-500]="(filters.priority ?? 'all') !== 'all'"
      [class.dark:text-slate-400]="(filters.priority ?? 'all') !== 'all'"
      (click)="setPriority('all')"
      aria-label="Show all todos regardless of priority"
      [attr.aria-pressed]="(filters.priority ?? 'all') === 'all'"
    >
      All
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.priority ?? 'all') === 'HIGH'"
      [class.dark:bg-slate-700]="(filters.priority ?? 'all') === 'HIGH'"
      [class.text-white]="(filters.priority ?? 'all') === 'HIGH'"
      [class.border]="(filters.priority ?? 'all') !== 'HIGH'"
      [class.border-slate-200]="(filters.priority ?? 'all') !== 'HIGH'"
      [class.dark:border-slate-700]="(filters.priority ?? 'all') !== 'HIGH'"
      [class.text-slate-500]="(filters.priority ?? 'all') !== 'HIGH'"
      [class.dark:text-slate-400]="(filters.priority ?? 'all') !== 'HIGH'"
      (click)="setPriority('HIGH')"
      aria-label="Show only high priority todos"
      [attr.aria-pressed]="(filters.priority ?? 'all') === 'HIGH'"
    >
      High
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.priority ?? 'all') === 'MEDIUM'"
      [class.dark:bg-slate-700]="(filters.priority ?? 'all') === 'MEDIUM'"
      [class.text-white]="(filters.priority ?? 'all') === 'MEDIUM'"
      [class.border]="(filters.priority ?? 'all') !== 'MEDIUM'"
      [class.border-slate-200]="(filters.priority ?? 'all') !== 'MEDIUM'"
      [class.dark:border-slate-700]="(filters.priority ?? 'all') !== 'MEDIUM'"
      [class.text-slate-500]="(filters.priority ?? 'all') !== 'MEDIUM'"
      [class.dark:text-slate-400]="(filters.priority ?? 'all') !== 'MEDIUM'"
      (click)="setPriority('MEDIUM')"
      aria-label="Show only medium priority todos"
      [attr.aria-pressed]="(filters.priority ?? 'all') === 'MEDIUM'"
    >
      Medium
    </button>
    <button
      type="button"
      class="rounded-full px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.3em] transition"
      [class.bg-slate-900]="(filters.priority ?? 'all') === 'LOW'"
      [class.dark:bg-slate-700]="(filters.priority ?? 'all') === 'LOW'"
      [class.text-white]="(filters.priority ?? 'all') === 'LOW'"
      [class.border]="(filters.priority ?? 'all') !== 'LOW'"
      [class.border-slate-200]="(filters.priority ?? 'all') !== 'LOW'"
      [class.dark:border-slate-700]="(filters.priority ?? 'all') !== 'LOW'"
      [class.text-slate-500]="(filters.priority ?? 'all') !== 'LOW'"
      [class.dark:text-slate-400]="(filters.priority ?? 'all') !== 'LOW'"
      (click)="setPriority('LOW')"
      aria-label="Show only low priority todos"
      [attr.aria-pressed]="(filters.priority ?? 'all') === 'LOW'"
    >
      Low
    </button>
  </div>
</section>
